
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Templates and bootstrapping documentation for standard operating procedures (SOPs)">
      
      
        <meta name="author" content="The NiPreps developers">
      
      
        <link rel="canonical" href="https://www.nipreps.org/sops-cookiecutter/">
      
      
      
        <link rel="next" href="changes/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.5">
    
    
      
        <title>SOPs template (cookiecutter)</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.0e669242.min.css">
      
      
  
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--thanks:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.048 2.241c.964-.709 2.079-1.238 3.325-1.241a4.616 4.616 0 0 1 3.282 1.355c.41.408.757.86.996 1.428.238.568.348 1.206.347 1.968 0 2.193-1.505 4.254-3.081 5.862-1.496 1.526-3.213 2.796-4.249 3.563l-.22.163a.749.749 0 0 1-.895 0l-.221-.163c-1.036-.767-2.753-2.037-4.249-3.563C1.51 10.008.007 7.952.002 5.762a4.614 4.614 0 0 1 1.353-3.407C3.123.585 6.223.537 8.048 2.24Zm-1.153.983c-1.25-1.033-3.321-.967-4.48.191a3.115 3.115 0 0 0-.913 2.335c0 1.556 1.109 3.24 2.652 4.813C5.463 11.898 6.96 13.032 8 13.805c.353-.262.758-.565 1.191-.905l-1.326-1.223a.75.75 0 0 1 1.018-1.102l1.48 1.366c.328-.281.659-.577.984-.887L9.99 9.802a.75.75 0 1 1 1.019-1.103l1.384 1.28c.295-.329.566-.661.81-.995L12.92 8.7l-1.167-1.168c-.674-.671-1.78-.664-2.474.03-.268.269-.538.537-.802.797-.893.882-2.319.843-3.185-.032-.346-.35-.693-.697-1.043-1.047a.75.75 0 0 1-.04-1.016c.162-.191.336-.401.52-.623.62-.748 1.356-1.637 2.166-2.417Zm7.112 4.442c.313-.65.491-1.293.491-1.916v-.001c0-.614-.088-1.045-.23-1.385-.143-.339-.357-.633-.673-.949a3.111 3.111 0 0 0-2.218-.915c-1.092.003-2.165.627-3.226 1.602-.823.755-1.554 1.637-2.228 2.45l-.127.154.562.566a.755.755 0 0 0 1.066.02l.794-.79c1.258-1.258 3.312-1.31 4.594-.032.396.394.792.791 1.173 1.173Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sops-cookiecutter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="SOPs template (cookiecutter)" class="md-header__button md-logo" aria-label="SOPs template (cookiecutter)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SOPs template (cookiecutter)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="SOPs template (cookiecutter)" class="md-nav__button md-logo" aria-label="SOPs template (cookiecutter)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    SOPs template (cookiecutter)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Home
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-sops-cookiecutter" class="md-nav__link">
    Why SOPs Cookiecutter?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-sops" class="md-nav__link">
    Publishing SOPs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-this-template" class="md-nav__link">
    How to use this template
  </a>
  
    <nav class="md-nav" aria-label="How to use this template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-derive-your-own-repository-from-the-template" class="md-nav__link">
    Step 1: derive your own repository from the template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-updating-contents" class="md-nav__link">
    Step 2: updating contents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-settings" class="md-nav__link">
    Project settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#protecting-sensitive-and-proprietary-information" class="md-nav__link">
    Protecting sensitive and proprietary information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snapshotting-the-documentation-for-archival-and-dissemination" class="md-nav__link">
    Snapshotting the documentation for archival and dissemination
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="changes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Change History
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Recruitment, Scheduling, and Screening
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Recruitment, Scheduling, and Screening
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="recruitment-scheduling-screening/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="recruitment-scheduling-screening/example1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="recruitment-scheduling-screening/example2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example 2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="data-collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data collection
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="data-storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data storage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="post-session/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    After the session
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="qa-qc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quality Assessment and Control
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="preprocessing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preprocessing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="release/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release of data
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-sops-cookiecutter" class="md-nav__link">
    Why SOPs Cookiecutter?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-sops" class="md-nav__link">
    Publishing SOPs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-this-template" class="md-nav__link">
    How to use this template
  </a>
  
    <nav class="md-nav" aria-label="How to use this template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-derive-your-own-repository-from-the-template" class="md-nav__link">
    Step 1: derive your own repository from the template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-updating-contents" class="md-nav__link">
    Step 2: updating contents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-settings" class="md-nav__link">
    Project settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#protecting-sensitive-and-proprietary-information" class="md-nav__link">
    Protecting sensitive and proprietary information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snapshotting-the-documentation-for-archival-and-dissemination" class="md-nav__link">
    Snapshotting the documentation for archival and dissemination
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="sops-cookiecutter"><em>SOPs Cookiecutter</em><a class="headerlink" href="#sops-cookiecutter" title="Permanent link">&para;</a></h1>
<p>Standard Operating Procedures (SOPs) bundle the documentation that describes the <em>nose-to-tail</em> execution of the experiment (that is, from data collection to final analysis), at an <em>atomic</em> level of detail, so that experiments can robustly be repeated.
Within your lab or your institution, the goal is that experimenters can carry out new data collection according to the overarching study plans with minimal supervision.
Beyond the doors of your lab or institution, SOPs are a critical tool to maximize the reproducibility of your research by others.</p>
<details class="thanks">
<summary>Thanks to Dr. Jo Etzel and to McKenzie P. Hagen</summary>
<p>Thanks Jo, for seeding the ideas and demonstrating the importance of SOPs in our scientific endeavor and your excellent work in the dissemination of <a href="https://mfr.osf.io/render?url=https://osf.io/6r9f8/?direct%26mode=render%26action=download%26mode=render">the DMCC Project</a> that includes SOPs we have reused as examples here.
Thanks McKenzie, for lending your experience as an RA at Stanford to fill some of the early drafts of the acquisition examples and checklists.</p>
</details>
<h2 id="why-sops-cookiecutter">Why <em>SOPs Cookiecutter</em>?<a class="headerlink" href="#why-sops-cookiecutter" title="Permanent link">&para;</a></h2>
<p><em>SOPs Cookiecutter</em> is a boilerplate for SOPs, and it provides a minimally working framework to bootstrap and continue your own SOPs.
SOPs typically should be a live documentation hub, the idea is that you iteratively build on top of previous versions.
Because this iterative advance of textual-formatted information is naturally handled by version control systems, we propose Git/GitHub as a convenient way of maintaining and working on this document.
This also permits many typical operations that implicitly happen with SOPs documents:</p>
<ul>
<li><em>forking</em>: someone in an institution created an original SOPs document, which over time got copied over and child documents continued their lives;</li>
<li><em>branching</em>: one of those SOPs documents was evolved for a particular study that was almost like the original project, except for minimal differences;</li>
<li><em>merging</em>: a branch became important enough to become a constituent part of the original SOPs from which it derived; and</li>
<li><em>versioning</em>: it is critical to keep track of all changes in the SOPs, and even more important to take <em>snapshots</em> of the document at relevant milestones of its life cycle (e.g., <em>version - [ ]0</em>).</li>
</ul>
<p>All of these operations are naturally part of Git.</p>
<h2 id="publishing-sops">Publishing SOPs<a class="headerlink" href="#publishing-sops" title="Permanent link">&para;</a></h2>
<p>Although very hardly other researchers will have access to the exact same settings detailed in your SOPs, they document all the incremental decisions that together implement your methods.
Therefore, making your SOPs accessible alongside datasets and publications is an effective way of maximizing the transparency of your research.
Indeed, opening your SOPs will ensure all procedural details of you experiment are preserved with the results.</p>
<div class="admonition danger">
<p class="admonition-title">SOPs generated from <em>SOPs Cookiecutter</em> CAN BE PRIVATE</p>
<p><em>SOPs Cookiecutter</em> does not enforce the public release of your SOPs.
 Leveraging the authorization system and access permissions of Git, you have full control over who can access your SOPs.
 Indeed, most projects cannot share their SOPs open until the study has been concluded for a number of reasons.</p>
<p>If you are using <em>SOPs Cookiecutter</em> with GitHub, you only need to make sure you generate your new SOPs in <strong>private</strong> mode or change it to private after creation (see below).</p>
</div>
<h2 id="how-to-use-this-template">How to use this template<a class="headerlink" href="#how-to-use-this-template" title="Permanent link">&para;</a></h2>
<h3 id="step-1-derive-your-own-repository-from-the-template">Step 1: derive your own repository from the template<a class="headerlink" href="#step-1-derive-your-own-repository-from-the-template" title="Permanent link">&para;</a></h3>
<div class="admonition abstract">
<p class="admonition-title">SOPs <img alt="â¤" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/2764.svg" title=":heart:" /> checklists</p>
<p>Checklists are very effective in ensuring all the steps of a procedure are followed to the letter, thereby minimizing the chance of misshapen.</p>
</div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Click on the "Use this template" button in the home page of <a href="https://github.com/nipreps/sops-cookiecutter"><code>nipreps/sops-cookiecutter</code></a>.
   Alternatively, you can use <a href="https://github.com/new?template_name=sops-cookiecutter&amp;template_owner=nipreps">this link</a>.
   This will redirect you to the interface to create a new repository:
   <img alt="step 1" src="assets/images/github-use-template-step-- [ ]png" /></li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> You will land on the <em>Create a new repository</em> page:</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="step 2" src="assets/images/github-use-template-step-2.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Choose your <code>&lt;user-or-institution&gt;</code> as the owner of the new repository, and give it a name (for instance, we called the new SOPs document <em>my-sops</em>. Although it is optional, adding a description is recommended.</td>
</tr>
</tbody>
</table>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Check on the public/private status of the repository - you might not want to have your SOPs public until the study is ready to do so.</p>
<div class="admonition warning">
<p class="admonition-title">Make sure you choose the appropriate visibility, however you may change it at a later time.</p>
</div>
</li>
</ul>
<h3 id="step-2-updating-contents">Step 2: updating contents<a class="headerlink" href="#step-2-updating-contents" title="Permanent link">&para;</a></h3>
<div class="admonition info">
<p class="admonition-title">At this point, you can use Git and GitHub as for any other projects.</p>
</div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> The documentation will be found under the <code>docs/</code> folder.</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Although you can edit your SOPs online in your repository, you probably enjoy more flexibility if you install them locally:</p>
<div class="admonition warning">
<p class="admonition-title">Replace <em>my-sops</em> below with the actual name of your repository.</p>
</div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>cd $HOME/projects/
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>git clone git@github.com:&lt;user-or-institution&gt;/my-sops.git
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>cd my-sops
</span></code></pre></div>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Check locally how your new documents will render:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Install the rendering software (called <code>mkdocs</code>) and dependencies by running:
   <div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>pip install -r requirements.txt
</span></code></pre></div></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Run the local web server
   <div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>mkdocs serve
</span></code></pre></div></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Open a browser and go to the URL stated by the output of the previous command, which reads like:
   <div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>INFO     -  [08:53:36] Serving on http://127.0.0.1:8000/my-sops/
</span></code></pre></div></li>
</ul>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Now you are ready to revise each of the documents, editing and updating accordingly to your experiments:<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Update the project's name, description, authors, etc. at the head of the <code>/mkdocs.yml</code> file.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Update the project's name and introduction in the <code>docs/index.md</code> file.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Customize everything to fit your needs.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Commit your changes and push back to repository:
   <div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>git commit -am &quot;Updated the recruitment procedures with a new e-mail template&quot;
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>git push
</span></code></pre></div></li>
</ul>
</li>
</ul>
<h2 id="project-settings">Project settings<a class="headerlink" href="#project-settings" title="Permanent link">&para;</a></h2>
<p>You may want to keep certain settings constant throughout the SOPs, for instance, the length of a specific stimulus in a particular point of the experiment which keeps appearing in the documentation at several spots.
To maintain documentation-wise information, define these metadata in the <code>study-settings.yml</code> file.
For example:
<div class="language-yaml highlight"><span class="filename">Example of settings file</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">## Study-wise settings that can be shared publicly</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nt">general</span><span class="p">:</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;My</span><span class="nv"> </span><span class="s">SOPs&quot;</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gh_username/my-sops</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="nt">mri</span><span class="p">:</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">  </span><span class="nt">timings</span><span class="p">:</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="nt">func_rest</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;20min</span><span class="nv"> </span><span class="s">0s&#39;</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="nt">func_bht</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;5min</span><span class="nv"> </span><span class="s">41s&#39;</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="nt">func_pct</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;2min</span><span class="nv"> </span><span class="s">38s&#39;</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="nt">psychopy</span><span class="p">:</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">    </span><span class="nt">func_rest</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;`task-rest_bold.psyexp`&#39;</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">    </span><span class="nt">func_bht</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;`task-bht_bold.psyexp`&#39;</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">    </span><span class="nt">func_pct</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;`task-pct_bold.psyexp`&#39;</span>
</span></code></pre></div></p>
<p>Given the above settings file, if we want our SOPs to show the name of the project (<em>My SOPs</em>), then we will have to use the following replacement code <code>{{ settings.general.name }}</code> wherever the replacement is necessary.</p>
<h2 id="protecting-sensitive-and-proprietary-information">Protecting sensitive and proprietary information<a class="headerlink" href="#protecting-sensitive-and-proprietary-information" title="Permanent link">&para;</a></h2>
<p>Some metadata MUST remain private at all times.
If you want to keep secrets that are inaccessible to others (even after making the SOPs open by changing their visibility), the easiest (and yet secure) way of achieving this is initiating a private repository with a config file for the private metadata.</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Create a <a href="https://docs.github.com/en/get-started/quickstart/create-a-repo">new repository on GitHub</a>. <strong>Make sure the repository IS PRIVATE</strong>.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> In the new repository, <strong>ONLY one file should be found</strong> at the root: <code>secrets.yml</code>.
     That file will look as follows:</li>
</ul>
<div class="language-yaml highlight"><span class="filename">Example of configuration file storing private information</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">logins</span><span class="p">:</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="nt">username_computer1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jdoe</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nt">password_computer1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">a-very-secure-password</span>
</span></code></pre></div>
<ul class="task-list">
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Copy the URL of the new repository.
    This will, typically, take a form like <code>https://github.com/gh_handle/my-sops-secrets.git</code>, where <code>gh_handle</code> is a GitHub username and <code>my-sops-secrets</code> is the name of the repository you set when you started the secrets repository.
    With the URL, please <a href="https://github.blog/2016-02-01-working-with-submodules/">add a git submodule</a> to the repo:</p>
<div class="language-bash highlight"><span class="filename">Make sure your URL is followed by the word 'secrets'</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>https://github.com/gh_handle/my-sops-secrets.git<span class="w"> </span>secrets
</span></code></pre></div>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Finally, uncomment the line pointing at <code>secrets/settings.yml</code> in <em>plugins</em> section of the <code>/mkdocs.yml</code> general configuration file:</p>
</li>
</ul>
<div class="language-yaml highlight"><span class="filename">Enabling private metadata</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">plugins</span><span class="p">:</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">search</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">macros</span><span class="p">:</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">      </span><span class="nt">include_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">includes</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">      </span><span class="nt">include_yaml</span><span class="p">:</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">        </span><span class="c1"># - secrets: &#39;secrets/settings.yml&#39;</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">settings</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;study-settings.yml&#39;</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">      </span><span class="nt">on_undefined</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lax</span>
</span></code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> From this moment on, you can use these secrets with the following replacement pattern: <code>{{ secrets.logins.password_computer1 | default("*****") }}</code>.
    The default filter allows the replacement of unavailable secrets (because in this case the user does not have access to the secret) with redaction symbols.
    For example, using <code>{{ secrets.logins.password_computer1 | default("*****") }}</code> at this point produces a series of stars <code>*****</code> to indicate that a secret could not be accessed at this point.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">To ensure your secrets are not exposed, you just need to protect the git submodule</p>
<p>Now private information is accessible only for users who have access to the submodule, and they will need to explicitly add the submodule for the secrets to be rendered.</p>
</div>
<details class="important">
<summary>Examples showing how to use secrets</summary>
<p>The <em>secrets</em> feature is demonstrated within these SOPs (see <a href="recruitment-scheduling-screening/example2/#scheduling">Example 2 in the recruitment section</a>, where phone numbers, e-mail addresses, and names are redacted).</p>
<p>The <a href="https://github.com/nipreps/sops-cookiecutter/blob/2569b8a091cce3080536eb337e151b87aa6b74cd/docs/recruitment-scheduling-screening/example2.md">corresponding code</a> is available on the GitHub repository</p>
</details>
<h2 id="snapshotting-the-documentation-for-archival-and-dissemination">Snapshotting the documentation for archival and dissemination<a class="headerlink" href="#snapshotting-the-documentation-for-archival-and-dissemination" title="Permanent link">&para;</a></h2>
<p>Whenever you feel ready to make a <em>snapshot</em> of the current state of your SOPs and assign them a new <em>version</em> label, the repository you cloned has the tooling to do so easily in a single step.</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Create a release on your GitHub repository.
   The creation of the release will trigger an automation (using GitHub Actions).
   This automation will inspect all changes since the last <em>release</em> you created and add them to the <code>docs/changes.md</code> document, which keeps human-readable track of the evolution of the SOPs.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Choosing appropriate version numbers</p>
<p>We recommend to use the <a href="https://calver.org">Calendar Versioning (CalVer) system</a> for your SOPs.
Therefore, the first number of your version (the so-called <em>major</em> section) will always be the year when the version is created (e.g., <em>22.XX.YY</em> or <em>2022.XX.YY</em>).
The second and third components (<em>XX</em> and <em>YY</em>) are suggested as follows:
- Modify the <em>minor</em> component (<em>XX</em>) whenever there are large changes in your documents that make your SOPs substantially different from a previous version.
- Modify the <em>patch</em> component (<em>YY</em>) whenever there are small changes like typos, reordering, planned iterations, etc. that you want to record as relevant steps, but basically do not change the SOPs in a substantial manner.
One final recommendation is to only set the <em>minor</em> (<em>XX</em>) above zero when your SOPs are <em>ready for production</em>.
In other words, keep <em>XX</em> with zero (e.g., <em>2022.0.YY</em>) during the process of developing your SOPs before the study starts.
Then change <em>XX</em> to one before you run the first data collection session following the SOPs (e.g., create the version <em>2022.1.1</em> right before the first time you will use your SOPs)</p>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["tabs", "content.code.copy", "content.code.annotate"], "search": "assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.78eede0e.min.js"></script>
      
        <script src="js/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>